<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    // {图片加载优化}: 雪碧图
    // {DNS预解析}:   DNS 解析也是需要时间的，可以通过预解析的方式来预先获得域名所对应的 IP。
    // <link rel="dns-prefetch" href="//yuchengkai.cn">

    // 考虑一个场景，滚动事件中会发起网络请求，但是我们并不希望用户在滚动过程中一直发起请求，
    // 而是隔一段时间发起一次，对于这种情况我们就可以使用 {防抖}:

    // 这是滚动页面滑轮,回输出滚动条的位置,现在如果是1000ms(1s)之内的连续出发第二次操作,以第二次操作为准
    function debounce(fn, delay) {
      let timer = null //借助闭包
      return function () {
        if (timer) {
          clearTimeout(timer)
        }
        timer = setTimeout(fn, delay) // 简化写法
      }
    }

    function showTop() {
      var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
      console.log('滚动条位置：' + scrollTop);
    }
    
    window.onscroll = debounce(showTop, 1000) // 为了方便观察效果我们取个大点的间断值，实际使用根据需要来配置

    //{节流}是为了防止多次点击而设计的,比如多次点击按钮,如果用户第一次点击,将按钮状态设为disable状态,等到接口有了反馈,再将按钮设置为able状态即可
    
    //{预加载}就是提前加载需要使用的js文件等

    //{懒加载}就是懒加载的原理就是只加载自定义区域（通常是可视区域，但也可以是即将进入可视区域）内需要加载的东西。
    // 对于图片来说，先设置图片标签的 src 属性为一张占位图，将真实的图片资源放入一个自定义属性中，当进入自定义区域时，
    // 就将自定义属性替换为 src 属性，这样图片就会去下载资源，实现了图片懒加载。

  </script>

</body>

</html>